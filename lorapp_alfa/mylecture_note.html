<!DOCTYPE html>
<html><head>
        <title>Lorapp</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="public/css/mylecture.css" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" type="image/x-icon" href="main.html?favicon.png">
        <link href='http://fonts.googleapis.com/css?family=Nunito:700' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <noscript>
            &lt;meta http-equiv="refresh" content="0; url=http://beta.lorapp.com/alfa/lorapp/public" /&gt;
        </noscript>
        <script type="text/javascript">
            function clickIE4() {
                if (event.button == 2) {
                    return false;
                }
            }
            function clickNS4(e) {
                if (document.layers || document.getElementById && !document.all) {
                    if (e.which == 2 || e.which == 3) {
                        return false;
                    }
                }
            }
            if (document.layers) {
                document.captureEvents(Event.MOUSEDOWN);
                document.onmousedown = clickNS4;
            } else if (document.all && !document.getElementById) {
                document.onmousedown = clickIE4;
            }
            document.oncontextmenu = new Function("return false");
            document.ondragstart = new Function("return false");
            document.oncopy = new Function("return false");
        </script>
    </head>
    <body>
        <!--boton flotante para las lecturas-->
        <div id="highlight-button" style="position: absolute; top: 644px; left: 609px; display: none;">
            <img title="Resaltar" id="highlighter" src="public/images/icons/png/highlight-icon.png">
            <span title="Limpiar" id="unhighlight" style="vertical-align: super;">X</span>
            <img title="Crear nota" id="add_note" src="public/images/icons/png/addNote-icon.png">
        </div>
        <!--ventana flotante para tomar notas-->
        <div class="float_note" id="float_note" style="display: none;">
            <form method="POST" action="mylecture.html?2" accept-charset="UTF-8" id="form_note_create"><input name="_token" type="hidden" value="z9gQuCRIhixeASphfA6hmDzvhYHf0piAq4x35Wdh">
            <input name="lecture_id" type="hidden" value="1">
            <input name="lecturesection_id" type="hidden" value="2">
                        <input name="user_id" type="hidden" value="2">
                        <input name="selectedtext" type="hidden" id="selectedtext" value="Consectetur molestiae qui tempore beatae. Vero aut qui praesentium dolor molestias voluptatum nobis eos. Et tempore ea itaque neque corrupti labore.Suscipit voluptatibus laboriosam qui ut non fugiat est. Est dolor eos nobis ut. Officiis cum consequatur dolor aut corporis.Nesciunt deserunt quod aperiam eos aut molestiae. Consequatur vel et omnis nesciunt. Ad eos cumque rem et consequatur. Occaecati distinctio quibusdam expedita consectetur iusto.Voluptate rem quia qui nostrum vel. Error aut doloribus et asperiores possimus. Porro sunt nisi illo.Enim aut rerum consectetur asperiores atque est praesentium. Quasi facilis aliquam excepturi quas est voluptate adipisci. Earum aut ea unde fuga molestiae dolorem quae. Qui ea omnis laudantium sit.">
            <div id="selected_text">Consectetur molestiae qui tempore beatae. Vero aut qui praesentium dolor molestias voluptatum nobis eos. Et tempore ea itaque neque corrupti labore.Suscipit voluptatibus laboriosam qui ut non fugiat est. Est dolor eos nobis ut. Officiis cum consequatur dolor aut corporis.Nesciunt deserunt quod aperiam eos aut molestiae. Consequatur vel et omnis nesciunt. Ad eos cumque rem et consequatur. Occaecati distinctio quibusdam expedita consectetur iusto.Voluptate rem quia qui nostrum vel. Error aut doloribus et asperiores possimus. Porro sunt nisi illo.Enim aut rerum consectetur asperiores atque est praesentium. Quasi facilis aliquam excepturi quas est voluptate adipisci. Earum aut ea unde fuga molestiae dolorem quae. Qui ea omnis laudantium sit.</div>
            <br>
            <div>
                <div align="center">
                    <textarea id="note" name="note" style="width: 99%;" rows="6" placeholder="Mis Notas"></textarea><br><br>
                    <div align="center" style="display: inline-table; vertical-align: top;">
                        <span id="btn_guardar" class="float_label" style="width: 150px; cursor: pointer">Guardar</span>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <span id="btn_cancelar" class="float_label" style="width: 150px; cursor: pointer">Cancelar</span>
                    </div>
                </div>
            </div>
            </form>
        </div>
        <!--ventana flotante para cargar las notas de esta lectura-->
        <div id="note_loader_container" class="notes" style="">
            <div align="left" class="notes_title" style="display: inline-block;">Mis apuntes</div>
            <hr>
            <img id="close_note_loader" src="public/images/icons/svg/exit-icon/exitGray-icon.svg">

            <div id="note_loader" style="height: 80%; overflow-y: auto; "><div id="rn0"><div class="notes_container notes_expandable"><p><q class="notes_fromtext">Consectetur numquam quis et nisi. Quas sint autem vero magni. Error quas provident iste ratione aspernatur aliquid fuga.</q></p><p>Rerum aut et exercitationem. Voluptatibus provident et ut maxime iusto facere error. Aliquam sit atque magni architecto quo quis consequatur.</p><p>Aut tempore odit omnis. Itaque rerum labore hic voluptatem. Quae nihil eos dolorem numquam quos eos.</p><p>Soluta maiores molestiae saepe. Facilis aut et pariatur fugit vel eius. Fuga iste aut aut id. Provident rerum quia cumque dolore omnis.</p><p>Quibusdam sequi hic maiores repellendus atque. Tempora repudiandae eos nam iste. Totam dignissimos architecto a voluptate saepe. Reprehenderit id quia magnam dolorem quas.</p><p class="notes_title_nota">NOTA:</p><p class="notes_title_nota_txt" id="note_text0">Et rerum molestiae cum vitae quae ratione ut sint. Nam sunt quo et incidunt. Quo voluptatem error hic et expedita. Voluptates reprehenderit dolorem et deleniti dolores et vel et. Qui nulla reprehenderit accusantium ipsam repellat. Accusantium nulla atque id commodi distinctio ipsam cumque. Nostrum repellat earum nostrum excepturi. Nihil tempore eveniet porro occaecati libero id enim. Consectetur qui maiores ea soluta dolorem sed. Non tempora qui dolor quasi aliquam inventore repellendus. Tenetur corrupti optio rerum vero quos voluptas consequuntur aliquid.</p><p><textarea id="note_text_edit0" rows="5" style="width: 96%; display: none">Et rerum molestiae cum vitae quae ratione ut sint. Nam sunt quo et incidunt. Quo voluptatem error hic et expedita. Voluptates reprehenderit dolorem et deleniti dolores et vel et. Qui nulla reprehenderit accusantium ipsam repellat. Accusantium nulla atque id commodi distinctio ipsam cumque. Nostrum repellat earum nostrum excepturi. Nihil tempore eveniet porro occaecati libero id enim. Consectetur qui maiores ea soluta dolorem sed. Non tempora qui dolor quasi aliquam inventore repellendus. Tenetur corrupti optio rerum vero quos voluptas consequuntur aliquid.</textarea></p><div align="right" class="note_option"><span id="btn_note_edit0" onclick="myLecture.editNoteShow(0, true)">Editar</span><span id="btn_note_save0" onclick="myLecture.updateNote(1, 0)" style="display: none">Guardar</span><span id="btn_note_cancel0" onclick="myLecture.editNoteShow(0, false)" style="display: none">Cancelar</span><span id="btn_note_delete0" onclick="myLecture.deleteNote(1,0)">Eliminar</span></div></div><hr></div><div id="rn1"><div class="notes_container notes_expandable"><p><q class="notes_fromtext">Consectetur molestiae qui tempore beatae. Vero aut qui praesentium dolor molestias voluptatum nobis eos. Et tempore ea itaque neque corrupti labore.Suscipit voluptatibus laboriosam qui ut non fugiat est. Est dolor eos nobis ut. Officiis cum consequatur dolor aut corporis.Nesciunt deserunt quod aperiam eos aut molestiae. Consequatur vel et omnis nesciunt. Ad eos cumque rem et consequatur. Occaecati distinctio quibusdam expedita consectetur iusto.Voluptate rem quia qui nostrum vel. Error aut doloribus et asperiores possimus. Porro sunt nisi illo.Enim aut rerum consectetur asperiores atque est praesentium. Quasi facilis aliquam excepturi quas est voluptate adipisci. Earum aut ea unde fuga molestiae dolorem quae. Qui ea omnis laudantium sit.</q></p><p class="notes_title_nota">NOTA:</p><p class="notes_title_nota_txt" id="note_text1">se toman algunas notas</p><p><textarea id="note_text_edit1" rows="5" style="width: 96%; display: none">se toman algunas notas</textarea></p><div align="right" class="note_option"><span id="btn_note_edit1" onclick="myLecture.editNoteShow(1, true)">Editar</span><span id="btn_note_save1" onclick="myLecture.updateNote(11, 1)" style="display: none">Guardar</span><span id="btn_note_cancel1" onclick="myLecture.editNoteShow(1, false)" style="display: none">Cancelar</span><span id="btn_note_delete1" onclick="myLecture.deleteNote(11,1)">Eliminar</span></div></div><hr></div></div>
        </div>

        <div style="display: table-row; width: 100%;">
            <!--menu flotante para modificar lectura y navegar-->
            <div class="left_menu" style="display: table-cell; ">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <div style="position: fixed; top: 20px; width: 60px;">
                    <div id="label_my_lecture" class="float_label" style="position: fixed; left: 70px; top: 45px; display: none;">Mis Lecturas</div>
                    <div id="label_font_down" class="float_label" style="position: fixed; left: 70px; top: 115px; display: none;">Disminuir Fuente</div>
                    <div id="label_font_up" class="float_label" style="position: fixed; left: 70px; top: 180px; display: none;">Aumentar Fuente</div>
                    <div id="label_note" class="float_label" style="position: fixed; left: 70px; top: 250px; display: none;">Mis Apuntes</div>
                    <div id="label_fullscreen" class="float_label" style="position: fixed; left: 70px; top: 340px; display: none;">Pantalla Completa</div>
                    <div id="label_nightmode" class="float_label" style="position: fixed; left: 70px; top: 420px; display: none;">Lectura Nocturna</div>
                    <a href="mylecturesection.html?"><img id="icon_my_lecture" src="public/images/icons/svg/back-icon.svg"></a>
                    <img id="icon_font_down" src="public/images/icons/svg/Aminus-icon.svg">
                    <img id="icon_font_up" src="public/images/icons/svg/Aplus-icon.svg">
                    <a href="mylecture_note.html?1"><img id="icon_note_" src="public/images/icons/svg/notes-icon.svg"/></a>
                    <img id="icon_fullscreen" src="public/images/icons/svg/notes-icon.svg">
                    <img id="icon_nightmode" src="public/images/icons/svg/notes-icon.svg">
                    <!--<a href="main.html?mynotes"><img id="icon_note" src="public/images/icons/svg/notes-icon.svg"/></a>-->
                </div>
                <div style="position: fixed; bottom: 10px; width: 60px;">
                    <div id="label_print" class="float_label" style="position: fixed; left: 70px; bottom: 40px; display: none;">Imprimir</div>
                    <img id="icon_print" src="public/images/icons/svg/print-icon.svg">
                </div>
            </div>
            <!--contenido de la lectura-->
            <div align="center" class="lecture_main" style="display: table-cell; width: 100%;">
                <div style="display: table-row">
                    <div style="display: table-cell">
                        <div class="lecture" id="lecture">
                            <p class="lecture_title">Deserunt molestiae ullam eius repudiandae autem quo.</p>
                            <p class="lecture_author">Lucio Donnelly</p>
                            <hr>
                            <p class="lecture_chapter">Quae velit impedit omnis neque excepturi sed placeat.</p>
                            <div class="lecture_container">
                                Consectetur molestiae qui tempore beatae. Vero aut qui praesentium dolor molestias voluptatum nobis eos. Et tempore ea itaque neque corrupti labore.<p></p><p>Suscipit voluptatibus laboriosam qui ut non fugiat est. Est dolor eos nobis ut. Officiis cum consequatur dolor aut corporis.</p><p>Nesciunt deserunt quod aperiam eos aut molestiae. Consequatur vel et omnis nesciunt. Ad eos cumque rem et consequatur. Occaecati distinctio quibusdam expedita consectetur iusto.</p><p>Voluptate rem quia qui nostrum vel. Error aut doloribus et asperiores possimus. Porro sunt nisi illo.</p><p>Enim aut rerum consectetur asperiores atque est praesentium. Quasi facilis aliquam excepturi quas est voluptate adipisci. Earum aut ea unde fuga molestiae dolorem quae. Qui ea omnis laudantium sit.</p><p>Voluptatem aliquam nostrum eum harum voluptas rerum quam sapiente. Ut fuga laboriosam unde itaque quia. Temporibus tenetur nobis non fugiat.</p><p>Quod hic iusto sit corporis labore ex. Earum in numquam odio ipsum omnis dolores. Ipsa harum sit itaque nobis voluptas vitae. Velit et dolorem debitis iure saepe ea veritatis.</p><p>Sit aut assumenda optio molestiae. Quia voluptatem libero molestias delectus. Sit aliquam est animi tempora quod. Quo eaque quia adipisci voluptatem. Laborum tenetur nemo officiis voluptatem a ut eveniet.</p><p>Libero officia sint doloremque molestiae dolore sapiente voluptatibus. Tenetur quo enim optio molestiae deleniti. Quo harum rerum nisi quod dolorem rem aut omnis. Nulla vel iusto deserunt quia ducimus molestiae sapiente maiores.</p><p>Magni autem et ipsa incidunt. Reiciendis sit at qui.</p><p>Facere ratione magni sint fugit voluptate quia dolor quia. Reiciendis consequatur nobis architecto modi. Et unde qui autem culpa cum eum ipsa. Fugit corporis ut odio non voluptatem. Possimus nobis explicabo ea deserunt tempora.</p><p>Ipsa a eos veniam laborum nemo optio atque. Harum facilis ad similique et eveniet. Occaecati aut pariatur quidem enim hic voluptas. In dolor doloribus quibusdam consequatur optio perferendis. Vero magni ut consequuntur et voluptatem sequi officia.</p><p>Repudiandae adipisci molestias illo ut aliquam voluptas. Quia id ut dolores dolor ullam autem. Fugit harum nisi adipisci expedita.</p><p>Consequatur aliquam quia molestiae blanditiis. Delectus rerum repellat soluta nisi deserunt. Velit quo error et aspernatur. Voluptas reiciendis quam expedita omnis.</p><p>Repellat adipisci odit vero. Fuga est sunt voluptatum. In architecto soluta nulla ex. Sed omnis earum quibusdam consequatur.</p><p>Voluptatem culpa quia aliquid et qui voluptas id. Sit quis voluptatem dolores et nostrum. Aut ea est molestias corrupti animi. Minima ea expedita ratione incidunt est.
                            </p></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript" src="public/js/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="public/js/jquery.highlight.js"></script>
        <script type="text/javascript" src="public/js/global.js"></script>
        <script type="text/javascript" src="public/js/util.js"></script>
        <script type="text/javascript" src="public/js/mylecture.js"></script>
        <script>
        </script>
        <script type="text/javascript">
                    $(document).ready(function() {
                global.url = "http://beta.lorapp.com/alfa/lorapp/public";
                global.session = "1743b53a94ffc287db0139a545428b2325a9b523";
                /**
                 * opciones del menu lateral
                 */
                $('#icon_my_lecture').mouseover(function() {
                    util.byIdShowHide('label_my_lecture', true);
                });
                $('#icon_my_lecture').mouseout(function() {
                    util.byIdShowHide('label_my_lecture', false);
                });
                $('#icon_font_down').mouseover(function() {
                    util.byIdShowHide('label_font_down', true);
                });
                $('#icon_font_down').mouseout(function() {
                    util.byIdShowHide('label_font_down', false);
                });
                $('#icon_font_down').click(function() {
                    myLecture.changeFontSize('.lecture', '-');
                });
                $('#icon_font_up').mouseover(function() {
                    util.byIdShowHide('label_font_up', true);
                });
                $('#icon_font_up').mouseout(function() {
                    util.byIdShowHide('label_font_up', false);
                });
                $('#icon_font_up').click(function() {
                    myLecture.changeFontSize('.lecture', '+');
                });
                $('#icon_note').mouseover(function() {
                    util.byIdShowHide('label_note', true);
                });
                $('#icon_note').mouseout(function() {
                    util.byIdShowHide('label_note', false);
                });
                $('#icon_note').click(function() {
                    myLecture.openNoteLoader();
                });
                $('#close_note_loader').click(function() {
                    myLecture.closeNoteLoader();
                });
                $('#icon_print').mouseover(function() {
                    util.byIdShowHide('label_print', true);
                });
                $('#icon_print').mouseout(function() {
                    util.byIdShowHide('label_print', false);
                });
                $('#icon_print').click(function() {
                    myLecture.printContentById('lecture');
                });
                $('#icon_fullscreen').mouseover(function() {
                    util.byIdShowHide('label_fullscreen', true);
                });
                $('#icon_fullscreen').mouseout(function() {
                    util.byIdShowHide('label_fullscreen', false);
                });
                // START: CLICK EN #BUTTON-FULLSCREEN LLEVA A PANTALLA COMPLETA Y CLICK DE NUEVO SALE DE ELLA
                $('#icon_fullscreen').click(function toggleFullScreen() {
                    if (!document.fullscreenElement && // alternative standard method
                            !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {  // current working methods
                        if (document.documentElement.requestFullscreen) {
                            document.documentElement.requestFullscreen();
                        } else if (document.documentElement.msRequestFullscreen) {
                            document.documentElement.msRequestFullscreen();
                        } else if (document.documentElement.mozRequestFullScreen) {
                            document.documentElement.mozRequestFullScreen();
                        } else if (document.documentElement.webkitRequestFullscreen) {
                            document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
                        }
                    } else {
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.msExitFullscreen) {
                            document.msExitFullscreen();
                        } else if (document.mozCancelFullScreen) {
                            document.mozCancelFullScreen();
                        } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                        }
                    }
                });
                $('#icon_nightmode').mouseover(function() {
                    util.byIdShowHide('label_nightmode', true);
                });
                $('#icon_nightmode').mouseout(function() {
                    util.byIdShowHide('label_nightmode', false);
                });
                // START: CLICK EN #BUTTON-NIGHT CAMBIA EL COLOR DEL FONDO Y DE LA LETRA
                $('#icon_nightmode').click(function() {
                    $('.lecture_main').toggleClass("night");
                    return false;
                });

                /**
                 * opciones del toolbox de lectura: seleccionar, resaltar, limpiar, crear nota
                 */
                $('.lecture').mouseup(myLecture.floatMenu);
                $('#add_note').mousedown(myLecture.addNote);
                //resalta texto
                $('#highlighter').click(myLecture.highlighter);
                //limpia el texto resaltado
                $('#unhighlight').click(myLecture.unHighlight);
                $('#btn_guardar').click(myLecture.saveNote);
                $('#btn_cancelar').click(myLecture.closeNote);
                // START: SMOOTH SCROLLING ON CLICK
                $('#down-scroll').click(function() {
                    $('html, body').animate({
                        scrollTop: $($.attr(this, 'href')).offset().top
                    }, 500);
                    return false;
                });
                // END: SMOOTH SCROLLING ON CLICK
                //localstorage
                myLecture.checkLS();
                lsid = 2;
                j = "ae7ec2b45beed17d0786e97d65a39e8d";
                k = "819074c37942211f286f7eb2cfb8dc5c";
                //se verifica si ya se inicio proceso
                leaf = myLecture.getLS('leaf');
                if (leaf === null || leaf === "") {
                    //como no existe se crea el primer objeto
                    leaf = {};
                    leaf[j] = {};
                    leaf[j].i = lsid;
                    leaf[j].k = k;
                    leaf[j].t = 0;
                    myLecture.setLSO('leaf', leaf);
                } else {
                    leaf = myLecture.getLSO('leaf');
                    if (leaf[j] === null || leaf[j] === undefined || leaf[j] === "") {
                        //como no existe la lectura, se crea
                        leaf[j] = {};
                        leaf[j].i = lsid;
                        leaf[j].k = k;
                        leaf[j].t = 0;
                        myLecture.setLSO('leaf', leaf);
                    }
                }
                setInterval(function() {
                    leaf = myLecture.getLSO('leaf');
                    leaf[j].t = leaf[j].t + 1;
                    myLecture.setLSO('leaf', leaf);
                }, 1000);
                setInterval(function() {
                    leaf = myLecture.getLSO('leaf');
                    $.ajax({
                        data: leaf[j],
                        type: "POST",
                        dataType: "json",
                        url: global.url + "/leaf",
                        success: function(data) {
                            if (data.valid) {
                                leaf = myLecture.getLSO('leaf');
                                leaf[j].t = 0;
                                myLecture.setLSO('leaf', leaf);
                            }
                        },
                        error: function(e, a, b) {
                            //error si se pierde conexion con el servidor
                        }
                    });
                }, 10000);
            });
        </script>


</body></html>
